# Документация проекта lab4_3 (ООП реализация)

## Обзор
Проект lab4_3 был переписан с использованием принципов объектно-ориентированного программирования (ООП). Была создана иерархия классов для обработки загрузки файлов, включающая абстрактный базовый класс и конкретные реализации для обработки фотографий и документов.

## Структура классов

### FileHandler (абстрактный класс)
Базовый класс для обработки файлов, содержит общую функциональность:
- Абстрактный метод `generateCardBody()` для генерации содержимого карточки файла
- Метод `generateCard()` для генерации общей структуры карточки файла
- Методы для сохранения и удаления данных о файлах в JSON
- Методы для загрузки и удаления файлов с проверкой типа и размера

### PhotoHandler
Класс для обработки фотографий, наследуется от FileHandler:
- Разрешенные типы: jpg, jpeg, png, gif, webp
- Максимальный размер файла: 10 МБ
- Реализует метод `generateCardBody()` для отображения изображений

### DocumentHandler
Класс для обработки документов, наследуется от FileHandler:
- Разрешенные типы: pdf, doc, docx, txt, xls, xlsx, ppt, pptx
- Максимальный размер файла: 20 МБ
- Реализует метод `generateCardBody()` для отображения документов

## Вспомогательные классы

### FooterHandler
Класс для генерации HTML-кода футера сайта.

### FileUtils
Класс с утилитными функциями:
- human_filesize() - преобразование размера файла в человеко-читаемый формат
- page_url() - генерация URL с сохранением текущих GET-параметров
- paginateArray() - пагинация массива

## Изменения в реализации

1. Добавлены абстрактные методы в базовый класс для обеспечения полиморфизма
2. Создана иерархия классов с общим интерфейсом для обработки разных типов файлов
3. Добавлены методы для фильтрации файлов по типу
4. Улучшена автозагрузка классов через spl_autoload_register
5. Улучшена структура данных о загруженных файлах с использованием типов
6. Упрощена фильтрация файлов в photos.php и documents.php

## Использование

Для использования классов:
```php
// Для работы с фотографиями
$photoUploader = new PhotoHandler('uploads/photos/', 'files_data.json');

// Для работы с документами
$documentUploader = new DocumentHandler('uploads/documents/', 'files_data.json');
```

## Тестирование
Функционал был протестирован через веб-интерфейс:
- Проверена загрузка и отображение фотографий
- Проверена загрузка и отображение документов
- Проверена работа удаления файлов
- Проверена пагинация для обоих типов файлов